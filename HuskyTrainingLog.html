<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HUSKY Training Log</title>
    <link rel="stylesheet" href="HuskyTrainingLog.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
</head>
<body>

    <!-- Header -->
    <header id="app-header">
        <button id="btn-back" class="btn-back hidden">‚Üê</button>
        <h1 id="page-title" onclick="app.navTo('menu')">HUSKY TRAINING LOG</h1>
    </header>

    <main>

        <!-- VUE 1 : Menu Principal -->
        <section id="view-menu" class="view active">
            <div style="text-align: center; margin-bottom: 20px;">
                <a href="index.html">
                    <img src="HUSKY-Fitness.png" alt="Logo HUSKY Fitness" style="width: 50%; max-width: 300px; height: auto;">
                </a>
            </div>

            <button class="btn-menu btn-full" onclick="app.navTo('daily-summary')">
                üìã R√©sum√© de la s√©ance du jour
            </button>
            
            <!-- MENU GRID REORDONN√âE -->
            <div class="menu-grid">
                <!-- Ligne 1 -->
                <button class="btn-menu" onclick="app.navTo('free-training')">Lancer un<br>entrainement libre</button>
                <button class="btn-menu" onclick="app.navTo('manage-exercises')">G√©rer les<br>Exercices</button>
                
                <!-- Ligne 2 -->
                <button class="btn-menu" onclick="app.navTo('saved-workouts')">Lancer un entrainement<br>pr√©-d√©fini</button>
                <button class="btn-menu" onclick="app.navTo('manage-workouts')">G√©rer les<br>Entrainements</button>
                
                <!-- Ligne 3 -->
                <button class="btn-menu" onclick="app.navTo('saved-circuits')">Lancer un<br>Circuit Training</button>
                <button class="btn-menu" onclick="app.navTo('manage-circuits')">G√©rer les<br>Circuits Training</button>
            </div>

            <div style="margin-top: 30px; border-top: 1px solid #333; padding-top: 20px;">
                <h3 style="text-align:center; color:#777; font-size:0.9rem; margin-bottom:10px;">SAUVEGARDE DES DONN√âES</h3>
                <div style="display:flex; gap:10px;">
                    <button class="btn-action" onclick="app.exportData()">‚¨áÔ∏è Sauvegarder (JSON)</button>
                    <button class="btn-action" onclick="document.getElementById('file-upload').click()">‚¨ÜÔ∏è Charger (JSON)</button>
                    <input type="file" id="file-upload" style="display:none" accept=".json" onchange="app.importData(this)">
                </div>
            </div>
        </section>

        <!-- VUE 2 : Liste des Exercices -->
        <section id="view-exercise-list" class="view">
            <div class="form-group">
                <input type="text" id="search-exercise" placeholder="Rechercher..." onkeyup="app.filterExercises()">
            </div>
            <div id="exercise-list-container" class="results-list"></div>
            <button id="btn-add-exercise-action" class="floating-action-btn hidden" onclick="app.openExerciseCreator()">+</button>
        </section>

        <!-- VUE 3 : D√©tail Exercice -->
        <section id="view-exercise-detail" class="view">
            <div class="card-highlight" id="exercise-info-panel">
                <h2 id="detail-exercise-name" style="color: var(--primary-color); margin-bottom: 5px;">Nom</h2>
                <div id="exercise-gif-container" style="text-align:center; margin-bottom:10px; display:none;">
                    <img id="exercise-gif-image" src="" alt="D√©monstration" style="max-width:100%; border-radius:8px; border:1px solid #444;">
                </div>
                <p id="detail-exercise-muscles" style="color: #e0e0e0; font-size: 0.95rem; margin-bottom: 2px;">Muscles</p>
                <p id="detail-exercise-material" style="color: #aaa; font-size: 0.85rem; font-style: italic;">Mat√©riel</p>
                <div style="margin-top: 10px; border-top: 1px solid #444; padding-top: 10px;">
                    <strong style="font-size: 0.9rem;">Derni√®re session :</strong>
                    <div id="history-content" style="font-size: 0.85rem; color: #ccc; margin-top: 5px; line-height: 1.4;"></div>
                </div>
            </div>

            <h3 style="margin-bottom: 10px; font-size: 0.9rem; color: #aaa; text-transform: uppercase; letter-spacing: 1px;">Temps de repos :</h3>
            <div id="timer-grid" style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 20px;">
                <button class="btn-timer" onclick="app.startTimer(30, this)">30s</button>
                <button class="btn-timer" onclick="app.startTimer(60, this)">60s</button>
                <button class="btn-timer" onclick="app.startTimer(120, this)">2m</button>
                <button class="btn-timer" onclick="app.startTimer(180, this)">3m</button>
            </div>

            <div id="sets-container"></div>
            <button class="btn-submit" onclick="app.finishCurrentExercise()">Terminer l'exercice</button>
        </section>

        <!-- VUE 4 : Liste Entrainements Enregistr√©s -->
        <section id="view-saved-workouts" class="view">
            <div id="workouts-list-container" class="results-list"></div>
        </section>

        <!-- VUE 5 : Runner Workout Classique -->
        <section id="view-workout-runner" class="view">
            <h2 id="runner-workout-title" style="text-align:center; margin-bottom:15px; color:var(--text-color)">Nom Workout</h2>
            <div id="runner-exercises-list" class="results-list"></div>
        </section>

        <!-- VUE 6 : Gestion Entrainements -->
        <section id="view-manage-workouts" class="view">
            <button class="btn-action" onclick="app.createNewWorkout()" style="margin-bottom:15px;">+ Cr√©er un entrainement</button>
            <div id="manage-workouts-list" class="results-list"></div>
        </section>

        <!-- VUE 7 : Editeur Entrainement -->
        <section id="view-workout-editor" class="view">
            <div class="form-group">
                <label>Nom de l'entrainement</label>
                <input type="text" id="editor-workout-name">
            </div>
            <div class="form-group">
                <label>Ajouter des exercices :</label>
                <input type="text" id="search-editor" placeholder="Filtrer..." onkeyup="app.filterEditorExercises()">
            </div>
            <div id="editor-exercise-list" class="results-list" style="max-height: 40vh;"></div>
            <button class="btn-submit" onclick="app.saveWorkoutStructure()">Sauvegarder</button>
        </section>

        <!-- VUE 8 : Cr√©ateur Exercice -->
        <section id="view-exercise-creator" class="view">
            <div class="form-group"><label>Nom</label><input type="text" id="new-ex-name"></div>
            <div class="form-group"><label>Muscles</label><input type="text" id="new-ex-muscles"></div>
            <div class="form-group"><label>Mat√©riel</label><input type="text" id="new-ex-material"></div>
            <button class="btn-submit" onclick="app.saveCustomExercise()">Enregistrer</button>
        </section>

        <!-- VUE 9 : R√©sum√© du jour -->
        <section id="view-daily-summary" class="view">
            <h2 style="text-align:center; margin-bottom: 20px; color: var(--primary-color);">Aujourd'hui</h2>
            <div id="daily-summary-container" class="results-list"></div>
        </section>

        <!-- VUE 10 : Liste des Circuits -->
        <section id="view-saved-circuits" class="view">
            <div id="saved-circuits-list" class="results-list"></div>
        </section>

        <!-- VUE 11 : Gestion Circuits -->
        <section id="view-manage-circuits" class="view">
            <button class="btn-action" onclick="app.createNewCircuit()" style="margin-bottom:15px;">+ Cr√©er un Circuit</button>
            <div id="manage-circuits-list" class="results-list"></div>
        </section>

        <!-- VUE 12 : Editeur Circuit -->
        <section id="view-circuit-editor" class="view">
            <div class="form-group">
                <label>Nom du Circuit</label>
                <input type="text" id="editor-circuit-name">
            </div>
            <div class="form-group">
                <label>Ajouter exercices (cliquer pour ajouter)</label>
                <input type="text" id="search-circuit-editor" placeholder="Filtrer..." onkeyup="app.filterCircuitEditorExercises()">
            </div>
            <div style="margin-bottom:10px; font-size:0.9rem; color:var(--primary-color)">Exercices du circuit (Ordre) :</div>
            <div id="circuit-selected-list" class="results-list" style="max-height: 30vh; margin-bottom:20px; border:1px solid var(--primary-color)"></div>
            <div id="circuit-search-list" class="results-list" style="max-height: 30vh;"></div>
            <button class="btn-submit" onclick="app.saveCircuitStructure()">Sauvegarder Circuit</button>
        </section>

        <!-- VUE 13 : Runner Circuit -->
        <section id="view-circuit-runner" class="view">
            <h2 id="circuit-runner-title" style="text-align:center; margin-bottom:20px;"></h2>
            
            <div id="circuit-timer-box" class="circuit-timer-box mode-ready" onclick="app.toggleCircuitState()">
                <div id="circuit-status-text" style="font-size:1.5rem; margin-bottom:5px;">PR√äT ?</div>
                <div id="circuit-timer-display" style="font-size:4rem; font-weight:bold;">00:00</div>
                <div id="circuit-current-ex" style="font-size:1.2rem; margin-top:5px; color:#fff;"></div>
                <div style="font-size:0.8rem; color:#aaa; margin-top:5px;">(Cliquer pour Start/Pause)</div>
            </div>

            <div style="display:flex; gap:10px; margin-top:20px;">
                <button id="btn-circuit-toggle" class="btn-action" onclick="app.toggleCircuitState()">‚ñ∂ Start</button>
                <button class="btn-action" style="background:#555" onclick="app.skipCircuitStep()">‚è≠ Suivant</button>
            </div>
            
            <div id="circuit-visual-container" style="display:none; margin-top:20px; background:#181818; padding:10px; border-radius:10px; border:1px solid #333;">
                <div style="display:flex; flex-wrap:wrap; align-items:center; justify-content:center; gap:15px;">
                    <div style="flex:1; min-width:200px; text-align:center;">
                         <img id="circuit-gif-image" src="" style="width:100%; max-height:350px; object-fit:contain; border-radius:8px;">
                    </div>
                    <div style="flex:1; min-width:200px; text-align:center;">
                        <div style="color:#aaa; font-size:0.9rem; margin-bottom:5px;">MAT√âRIEL REQUIS</div>
                        <div id="circuit-material-info" style="color:var(--primary-color); font-size:1.2rem; font-weight:bold;"></div>
                    </div>
                </div>
            </div>

            <div style="margin-top:20px; border-top:1px solid #333; padding-top:10px;">
                <div style="color:#777; font-size:0.9rem;">√Ä suivre :</div>
                <div id="circuit-next-ex" style="font-size:1rem; color:#ccc;"></div>
            </div>
        </section>

    </main>

    <script src="HuskyTrainingLog.js"></script>
</body>
</html>
